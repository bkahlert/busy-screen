<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Loading...</title>
    <style>
        html:not(.ready) {
            opacity: 0;
        }
    </style>
</head>
<body class="init">
<div class="status nes-container is-centered">
    <h1>
        <span class="status__task">${task}</span>
    </h1>
    <div class="status__avatar_name">
        <img alt="${email}" class="status__avatar">
        <div class="status__name nes-balloon from-left">
            <span class="nes-text">${name}</span>
        </div>
    </div>
    <progress class="status__passed nes-progress" max="0" value="0"></progress>
    <div class="status__remaining">${duration}</div>
</div>

<div class="loading">
    <div class="loading__progress">
        <i class="loading__heart loading__heart--animated"></i>
        <i class="loading__heart"></i>
        <i class="loading__heart"></i>
        <span>Loading...</span>
    </div>
    <div class="loading__log"></div>
</div>

<div class="help">
    <a href="#" onclick="document.getElementById('help-dialog').showModal(); return false;">Help</a>
    <dialog class="nes-dialog is-rounded" id="help-dialog">
        <form method="dialog">
            <h1 class="title">Update status.Status</h1>
            <pre>
                <code>
curl -X PUT --location "http://192.168.168.168:1880/status" \
     -H "Content-Type: application/json; charset=utf-8" \
     -d "{
           \"name\": \"working\",
           \"task\": \"TICKET-123\",
           \"duration\": \"PT50M\",
           \"email\": \"john.doe@example.com\"
         }"
                </code>
            </pre>
            <p><em>All fields but <code>name</code> are optional.</em></p>
            <menu class="dialog-menu">
                <button class="nes-btn is-primary">Close</button>
            </menu>
        </form>
    </dialog>
</div>

<div class="author">
    <a href="https://github.com/bkahlert/busy-screen">bkahlert/busy-screen</a>
</div>

<script src="busy-screen.js"></script>
</body>
</html>
